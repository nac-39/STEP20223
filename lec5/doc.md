# TSP を遺伝的アルゴリズムで解く

## 実行方法

```bash
cd lec5
python3 solver_mine.py
# pypyで高速化する場合
docker run pypy:3.9-7.3.12-bullseye --rm -v ".:/workspace" bash
cd workspace
pypy solver_mine.py
```

## 方針

遺伝的アルゴリズムになんちゃって 2-opt を組み合わせる

- なんちゃって 2-opt とは  
   （これは勝手な呼称です）今回の実装では、親から生成した子に 交差している辺があったら入れ替えるという 2-opt のような操作を入れています。しかし、全ての組合せを試していると実行時間がかかるので、ランダムな２辺を取り出し、それに対してこの処理を何回か適用しています。

### 遺伝的アルゴリズムの選択・交叉について

- 選択：ルーレット選択 → 遺伝子をスコアによって重み付けしたルーレットによって選ぶ
- 交叉：循環交叉 →（理解してないので説明できない。。。参照：[順序問題への GA の適用](http://ono-t.d.dooo.jp/GA/GA-order.html)）

## 実行結果

[スコア一覧](./scores.md)

## 考察

- N が大きくなるほど、`MAX_INDIVIDUALS`を増やして、初期解の多様性を増やした方が局所解に陥らなくて良さそう
  - その反面、実行時間が長くなってしまう…

- 初期解を貪欲法の解を少し改変したものにすると多様性が失われてあまりいい結果が得られない
